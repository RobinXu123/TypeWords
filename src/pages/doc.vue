<script setup lang="ts">
import { computed, ref } from 'vue'
import BasePage from '@/components/BasePage.vue'
import BaseButton from '@/components/BaseButton.vue'

// èµ„æºåˆ†ç±»
const categories = ref([
  {
    id: 'new-concept',
    name: 'æ–°æ¦‚å¿µè‹±è¯­',
    icon: 'ğŸ“š',
    description: 'ç»å…¸è‹±è¯­æ•™æï¼Œé€‚åˆç³»ç»Ÿå­¦ä¹ ',
    resources: [
      {
        name: 'æ–°æ¦‚å¿µè‹±è¯­ç¬¬ä¸€å†Œ',
        description: 'é€‚åˆè‹±è¯­åˆå­¦è€…',
        difficulty: 'å…¥é—¨',
        link: 'https://pan.quark.cn/s/92a317cf1a16',
      },
      {
        name: 'æ–°æ¦‚å¿µè‹±è¯­ç¬¬äºŒå†Œ',
        description: 'åŸºç¡€è‹±è¯­å­¦ä¹ ï¼Œå·©å›ºè¯­æ³•å’Œè¯æ±‡',
        difficulty: 'åŸºç¡€',
        link: 'https://pan.quark.cn/s/1ee9c8a7e8e2',
      },
      {
        name: 'æ–°æ¦‚å¿µè‹±è¯­ç¬¬ä¸‰å†Œ',
        description: 'æé«˜è‹±è¯­æ°´å¹³ï¼Œå¢å¼ºé˜…è¯»èƒ½åŠ›',
        difficulty: 'è¿›é˜¶',
        link: 'https://pan.quark.cn/s/b35c2859812a',
      },
      {
        name: 'æ–°æ¦‚å¿µè‹±è¯­ç¬¬å››å†Œ',
        description: 'é«˜çº§è‹±è¯­å­¦ä¹ ï¼Œæå‡ç»¼åˆèƒ½åŠ›',
        difficulty: 'é«˜çº§',
        link: 'https://pan.quark.cn/s/a56713cafbc5',
      },
      {
        name: 'æ–°æ¦‚å¿µè‹±é’å°‘å¹´ç‰ˆ',
        description: 'å„¿ç«¥è¯»ç‰©',
        difficulty: '7å²è‡³14å²',
        link: 'https://pan.quark.cn/s/9de8d7967de2',
      },
      {
        name: 'æ–°æ¦‚å¿µè‹±è¯­1-4 æ•™æé«˜æ¸…PDF',
        description: 'ä»… 1-4 å†Œçš„æ•™æé«˜æ¸…PDF',
        difficulty: '',
        link: 'https://pan.quark.cn/s/ec49145d6b00',
      },
      {
        name: 'æ–°æ¦‚å¿µè®²è§£è§†é¢‘',
        description: 'åŒ…å«äº† N å®¶æœºæ„/ä¸ªäººçš„è®²è§£è§†é¢‘',
        difficulty: '',
        link: 'https://pan.quark.cn/s/09e98acd55b4',
      },
    ],
  },
  {
    id: 'exam',
    name: 'è‹±è¯­ç›¸å…³ç”µè§†/ç”µå½±',
    icon: 'ğŸ¯',
    description: 'é›…æ€ã€æ‰˜ç¦ç­‰è€ƒè¯•å¤‡è€ƒèµ„æ–™',
    resources: [
      {
        name: 'è€å‹è®°',
        description: '',
        difficulty: 'ç»å…¸',
        link: 'https://pan.quark.cn/s/674834e7a5b1',
      },
      {
        name: 'ç”Ÿæ´»å¤§çˆ†ç‚¸',
        description: '',
        difficulty: 'ç»å…¸',
        link: 'https://pan.quark.cn/s/0539c10704ba',
      },
      {
        name: 'æ˜¯å¤§è‡£/æ˜¯é¦–ç›¸',
        description: '',
        difficulty: 'ç»å…¸',
        link: 'https://pan.quark.cn/s/316323ce51d5',
      },
    ],
  },
  {
    id: 'grammar',
    name: 'è¯­æ³•å­¦ä¹ ',
    icon: 'ğŸ“',
    description: 'ç³»ç»Ÿæ€§å­¦ä¹ è‹±è¯­è¯­æ³•',
    resources: [
      {
        name: 'å‰‘æ¡¥ä¸­çº§è‹±è¯­è¯­æ³•',
        description: 'æ¸…æ™°è®²è§£è¯­æ³•ç‚¹ï¼Œé…æœ‰å¤§é‡ç»ƒä¹ ',
        difficulty: 'ä¸­çº§',
        link: 'https://pan.baidu.com/s/xxx',
      },
      {
        name: 'English Grammar in Use',
        description: 'ç»å…¸è¯­æ³•æ•™æï¼Œé€‚åˆè‡ªå­¦',
        difficulty: 'ä¸­çº§',
        link: 'https://pan.baidu.com/s/xxx',
      },
      {
        name: "Murphy's English Grammar",
        description: 'ç³»ç»Ÿè®²è§£è‹±è¯­è¯­æ³•ï¼Œé€‚åˆå„ç±»å­¦ä¹ è€…',
        difficulty: 'å…¨çº§åˆ«',
        link: 'https://pan.baidu.com/s/xxx',
      },
    ],
  },
  {
    id: 'listening',
    name: 'å¬åŠ›è®­ç»ƒ',
    icon: 'ğŸ§',
    description: 'æå‡è‹±è¯­å¬åŠ›æ°´å¹³',
    resources: [
      {
        name: 'VOAæ…¢é€Ÿè‹±è¯­åˆé›†',
        description: 'æ–°é—»ç±»å¬åŠ›ææ–™ï¼Œè¯­é€Ÿé€‚ä¸­ï¼Œå†…å®¹ä¸°å¯Œ',
        difficulty: 'ä¸­çº§',
        link: 'https://pan.baidu.com/s/xxx',
      },
      {
        name: 'BBC Learning English',
        description: 'BBCå®˜æ–¹è‹±è¯­å­¦ä¹ èµ„æºï¼Œæ¶µç›–å¤šæ–¹é¢å†…å®¹',
        difficulty: 'ä¸­é«˜çº§',
        link: 'https://pan.baidu.com/s/xxx',
      },
      {
        name: 'TEDæ¼”è®²ç²¾é€‰',
        description: 'é«˜è´¨é‡æ¼”è®²ï¼Œé”»ç‚¼å¬åŠ›åŒæ—¶å¼€æ‹“è§†é‡',
        difficulty: 'ä¸­é«˜çº§',
        link: 'https://pan.baidu.com/s/xxx',
      },
      {
        name: 'å“ˆå¼—æ¼”è®²',
        description: 'é«˜è´¨é‡æ¼”è®²ï¼Œé”»ç‚¼å¬åŠ›åŒæ—¶å¼€æ‹“è§†é‡',
        difficulty: 'ä¸­é«˜çº§',
        link: 'https://pan.quark.cn/s/f2bfa8a50d25',
      },
    ],
  },
])

// å½“å‰é€‰ä¸­çš„åˆ†ç±»
const selectedCategory = ref('all')

// ç­›é€‰åçš„èµ„æº
const filteredResources = computed(() => {
  if (selectedCategory.value === 'all') {
    return categories.value
  }
  return categories.value.filter(cat => cat.id === selectedCategory.value)
})

// è·³è½¬åˆ°ç½‘ç›˜é“¾æ¥
const openLink = (url: string) => {
  window.open(url, '_blank')
}

// æ ¹æ®éš¾åº¦è·å–å¯¹åº”çš„æ ·å¼ç±»
const getDifficultyClass = (difficulty: string) => {
  switch (difficulty) {
    case 'å…¥é—¨':
      return 'bg-green-500'
    case 'åŸºç¡€':
      return 'bg-blue-500'
    case 'ä¸­çº§':
      return 'bg-purple-500'
    case 'è¿›é˜¶':
      return 'bg-amber-500'
    case 'é«˜çº§':
      return 'bg-red-500'
    case 'å…¨çº§åˆ«':
      return 'bg-gray-500'
    default:
      return 'bg-blue-500'
  }
}
</script>

<template>
  <BasePage>
    <div class="flex flex-col items-center justify-center px-4 py-8 max-w-7xl mx-auto">
      <!-- é¡µé¢æ ‡é¢˜ -->
      <div class="text-center mb-8">
        <h1 class="text-4xl font-bold mb-4">ğŸ“š è‹±è¯­å­¦ä¹ èµ„æºåˆ†äº«</h1>
        <p class="text-lg text-gray-600 dark:text-gray-300 max-w-3xl mx-auto">
          ä»¥ä¸‹æ˜¯æˆ‘æ•´ç†çš„ä¸ªäººæ”¶è—çš„ä¼˜è´¨è‹±è¯­å­¦ä¹ èµ„æºï¼Œå¸Œæœ›å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ï¼
        </p>
      </div>

      <!-- åˆ†ç±»ç­›é€‰ -->
      <div
        class="flex flex-wrap justify-center gap-2 mb-8 p-4 bg-white dark:bg-gray-800 rounded-lg shadow-md w-full"
      >
        <BaseButton
          :type="selectedCategory === 'all' ? 'primary' : 'info'"
          @click="selectedCategory = 'all'"
        >
          å…¨éƒ¨èµ„æº
        </BaseButton>
        <BaseButton
          v-for="category in categories"
          :key="category.id"
          :type="selectedCategory === category.id ? 'primary' : 'info'"
          @click="selectedCategory = category.id"
        >
          {{ category.icon }} {{ category.name }}
        </BaseButton>
      </div>

      <!-- èµ„æºåˆ—è¡¨ -->
      <div class="w-full">
        <div v-for="category in filteredResources" :key="category.id" class="mb-12">
          <div class="text-center mb-6">
            <h2 class="text-2xl font-bold mb-2">{{ category.icon }} {{ category.name }}</h2>
            <p class="text-gray-600 dark:text-gray-300">{{ category.description }}</p>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5">
            <div
              v-for="resource in category.resources"
              :key="resource.name"
              class="card-white mb-0 hover:shadow-xl transition-all duration-300 hover:-translate-y-1 flex flex-col justify-between"
            >
              <div class="">
                <div class="text-xl font-semibold mb-2 text-gray-800 dark:text-gray-100">
                  {{ resource.name }}
                </div>
                <p>
                  <span
                    v-if="resource.difficulty"
                    class="mr-2 inline-block px-3 py-1 rounded-full text-xs font-medium text-white"
                    :class="getDifficultyClass(resource.difficulty)"
                  >
                    {{ resource.difficulty }}
                  </span>
                  <span class=" text-gray-600 dark:text-gray-300 mb-4">{{
                    resource.description
                  }}</span>
                </p>
              </div>
              <div class="flex flex-col gap-3">
                <BaseButton type="primary" @click="openLink(resource.link)"> æ‰“å¼€é“¾æ¥ </BaseButton>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- é¡µé¢åº•éƒ¨ -->
      <div class="mt-12 pt-8 border-t border-gray-200 dark:border-gray-700">
        <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6">
          <h3 class="text-xl font-bold mb-4">ğŸ’¡ æ¸©é¦¨æç¤º</h3>
          <ul class="list-disc list-inside space-y-2 text-gray-600 dark:text-gray-300">
            <li>æ‰€æœ‰èµ„æºå‡æ¥è‡ªäº’è”ç½‘æ”¶é›†ï¼Œä»…ä¾›å­¦ä¹ äº¤æµä½¿ç”¨</li>
            <li>å¦‚æœé“¾æ¥å¤±æ•ˆï¼Œè¯·åŠæ—¶å‘ŠçŸ¥ï¼Œæˆ‘ä¼šå°½å¿«æ›´æ–°</li>
          </ul>
        </div>
      </div>
    </div>
  </BasePage>
</template>
